file_path,api_count,code
deploy/py-sklearn-flask-ml-service/api.py,0,"b'""""""\napi.py\n~~~~~~\n\nThis module defines a simple REST API for a Machine Learning (ML) model.\n""""""\n\nfrom os import environ\n\nfrom joblib import load\nfrom flask import abort, Flask, jsonify, make_response, request\nfrom pandas import DataFrame\n\n\nservice_name = environ[\'SERVICE_NAME\']\nversion = environ[\'API_VERSION\']\nmodel = load(\'model.joblib\')\napp = Flask(__name__)\n\n\n@app.route(f\'/{service_name}/v{version}/predict\', methods=[\'POST\'])\ndef predict():\n    """"""TODO""""""\n    try:\n        features = DataFrame(request.json)\n        prediction = model.predict(features).tolist()\n        return make_response(jsonify({\'prediction\': prediction}))\n    except ValueError:\n        raise RuntimeError(\'Features are not in the correct format.\')\n\nif __name__ == \'__main__\':\n    app.run(host=\'0.0.0.0\', port=5000)\n'"
