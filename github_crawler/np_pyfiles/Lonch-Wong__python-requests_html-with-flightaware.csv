file_path,api_count,code
30.py,0,"b'import plotly.plotly as py\nimport plotly.graph_objs as go\nimport pandas as pd\n\ndf_airports = pd.read_csv(\'https://raw.githubusercontent.com/plotly/datasets/master/2011_february_us_airport_traffic.csv\')\ndf_airports.head()  #\xe8\xaf\xbb\xe5\x8f\x96\xe6\x9c\xba\xe5\x9c\xba\xe6\x95\xb0\xe6\x8d\xae\n\ndf_flight_paths = pd.read_csv(\'https://raw.githubusercontent.com/plotly/datasets/master/2011_february_aa_flight_paths.csv\')\ndf_flight_paths.head() #\xe8\xaf\xbb\xe5\x8f\x96\xe8\x88\xaa\xe7\x8f\xad\xe6\x95\xb0\xe6\x8d\xae\n\n\n\ntrace0 = go.Scattergeo(  #\xe7\xba\xbf\xe7\x9a\x84\xe9\xa2\x9c\xe8\x89\xb2\n   locationmode = \'USA-states\',\n        lon = df_airports[\'long\'],\n        lat = df_airports[\'lat\'],\n        hoverinfo = \'text\',\n        text = df_airports[\'airport\'],\n        mode = \'lines\',\n        marker = dict( \n            size=2, \n            color=\'rgb(255, 0, 0)\',\n            line = dict(\n                width=3,\n                color=\'rgba(68, 68, 68, 0)\'\n            )\n        )\n)\n\ndata = [trace0]\n\ncluster0 = []  #\xe6\xaf\x8f\xe4\xb8\xaa\xe6\x9c\xba\xe5\x9c\xba\xe7\x9a\x84\xe7\x82\xb9\nfor i in range( len( df_flight_paths ) ):\n    cluster0 .append(\n        dict(\n            type = \'scattergeo\',\n            locationmode = \'USA-states\',\n            lon = [ df_flight_paths[\'start_lon\'][i], df_flight_paths[\'end_lon\'][i] ],\n            lat = [ df_flight_paths[\'start_lat\'][i], df_flight_paths[\'end_lat\'][i] ],\n            mode = \'lines\',\n            line = dict(\n                width = 1,\n                color = \'red\',\n            ),\n            opacity = float(df_flight_paths[\'cnt\'][i])/float(df_flight_paths[\'cnt\'].max()),\n        )\n    )\n\nupdatemenus = list([ #\xe6\x8c\x89\xe9\x92\xae\n    dict(type=""buttons"",\n         buttons=list([   \n            dict(label = \'None\',\n                 method = \'update\'),\n            dict(label = \'Cluster 0\',\n                 method = \'update\',\n                 args = [{\'annotations\':cluster0}]),\n        ]),\n    )\n])\n\nlayout = dict( title = \'Feb. 2011 American Airline flight paths<br>(Hover for airport names)\', #\xe5\xb8\x83\xe5\xb1\x80\n        showlegend = False, \n        geo = dict(\n            scope=\'north america\',\n            projection=dict( type=\'azimuthal equal area\' ),\n            showland = True,\n            landcolor = \'rgb(243, 243, 243)\',\n            countrycolor = \'rgb(204, 204, 204)\',\n        ),\n updatemenus=updatemenus\n )\n\nfig = dict(data=data, layout=layout) #\xe6\x95\xb0\xe6\x8d\xae\xe5\xb8\xa6\xe5\x85\xa5\n\npy.plot(fig, filename=\'relayout_option\') #\xe5\xae\x9e\xe7\x8e\xb0'"
