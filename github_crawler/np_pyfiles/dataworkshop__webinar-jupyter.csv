file_path,api_count,code
fe.py,2,"b'\ndef feature_engineering(data):\n    data[\'year\'] = data[\'datetime\'].dt.year\n    data[\'diff_year\'] = data[\'year\'] - 2010\n    data[\'month\'] = data[\'datetime\'].dt.month\n    data[\'day\'] = data[\'datetime\'].dt.day\n    data[\'hour\'] = data[\'datetime\'].dt.hour\n    data[\'minute\'] = data[\'datetime\'].dt.minute\n    data[\'dayofweek\'] = data[\'datetime\'].dt.dayofweek\n    data[\'weekofyear\'] = data[\'datetime\'].dt.weekofyear\n    data[\'weekend\'] = data.dayofweek.map(lambda x: int(x in [5,6]) )\n    data[\'time_of_day\'] = data[\'hour\'].map(cat_hour)\n    \n    data[\'dayofyear\'] = data[\'datetime\'].dt.dayofyear\n    data[\'day_\'] = data[ [\'year\', \'dayofyear\'] ].apply(lambda x: x[\'dayofyear\'] + int(str(x[\'year\'])[-1]) * 365  , axis=1)\n    \n    data[\'rush_hour\'] = data[\'datetime\'].apply(lambda i: min([np.fabs(9-i.hour), np.fabs(20-i.hour)]))\n    data.loc[:,(\'rush_hour\')] = data[\'datetime\'].apply(lambda i: np.fabs(14-i.hour))\n    data.loc[data[\'workingday\'] != 0].loc[:,(\'rush_hour\')] = 0\n    \n    data[\'holiday\'] = data[[\'month\', \'day\', \'holiday\', \'year\']].apply(lambda x: (x[\'holiday\'], 1)[x[\'year\'] == 2012 and x[\'month\'] == 10 and (x[\'day\'] in [30])], axis = 1)\n    data[\'holiday\'] = data[[\'month\', \'day\', \'holiday\']].apply(lambda x: (x[\'holiday\'], 1)[x[\'month\'] == 12 and (x[\'day\'] in [24, 26, 31])], axis = 1)\n    \n    data[\'workingday\'] = data[[\'month\', \'day\', \'workingday\']].apply(lambda x: (x[\'workingday\'], 0)[x[\'month\'] == 12 and x[\'day\'] in [24, 31]], axis = 1)\n    data[\'peak\'] = data[[\'hour\', \'workingday\']].apply(lambda x: (0, 1)[(x[\'workingday\'] == 1 and  ( x[\'hour\'] == 8 or 17 <= x[\'hour\'] <= 18 or 12 <= x[\'hour\'] <= 12)) or (x[\'workingday\'] == 0 and  10 <= x[\'hour\'] <= 19)], axis = 1)\n    data[\'sticky\'] = data[[\'humidity\', \'workingday\']].apply(lambda x: (0, 1)[x[\'workingday\'] == 1 and x[\'humidity\'] >= 60], axis = 1)\n\n    return data\n\nprint(""done"")'"
hello-world.py,0,"b'print(""Hello world!"")\n'"
