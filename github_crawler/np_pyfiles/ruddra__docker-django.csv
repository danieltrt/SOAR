file_path,api_count,code
src/manage.py,0,"b'#!/usr/bin/env python\nimport os\nimport sys\n\nif __name__ == \'__main__\':\n    os.environ.setdefault(\'DJANGO_SETTINGS_MODULE\', \'mydjango.settings\')\n    try:\n        from django.core.management import execute_from_command_line\n    except ImportError as exc:\n        raise ImportError(\n            ""Couldn\'t import Django. Are you sure it\'s installed and ""\n            ""available on your PYTHONPATH environment variable? Did you ""\n            ""forget to activate a virtual environment?""\n        ) from exc\n    execute_from_command_line(sys.argv)\n'"
src/myapp/__init__.py,0,b''
src/myapp/admin.py,0,b'from django.contrib import admin\nfrom .models import DemoModel\n\nadmin.site.register(DemoModel)\n'
src/myapp/apps.py,0,"b""from django.apps import AppConfig\n\n\nclass MyappConfig(AppConfig):\n    name = 'myapp'\n"""
src/myapp/forms.py,0,"b""from django import forms\nfrom .models import ItemBatch\n\n\nclass SomeForm(forms.ModelForm):\n    class Meta:\n        model = ItemBatch\n        fields = '__all__'\n\n    def save(self, commit=True):\n        image = self.cleaned_data.pop('image')\n        instance = super().save(commit=True)\n        # instance.save_m2m()\n        print(image)\n        instance.image = image\n        instance.save()\n        return instance\n"""
src/myapp/models.py,0,"b'from django.db import models\n\n\nclass DemoModel(models.Model):\n    title = models.CharField(max_length=255)\n    body = models.TextField()\n    image = models.ImageField(upload_to=""demo_images"")\n\n    def __str__(self):\n        return self.title\n'"
src/myapp/tasks.py,0,"b'from __future__ import absolute_import, unicode_literals\nimport logging\n\nfrom django.conf import settings\nfrom mydjango.celery import app\n\nlogger = logging.getLogger(""celery"")\n\n\n@app.task\ndef show_hello_world():\n    logger.info(""-""*25)\n    logger.info(""Printing Hello from Celery"")\n    logger.info(""-""*25)\n'"
src/myapp/tests.py,0,b'from django.test import TestCase\n\n# Create your tests here.\n'
src/myapp/views.py,0,"b""from django.views.generic import TemplateView\nfrom .tasks import show_hello_world\nfrom .models import DemoModel\n# Create your views here.\n\n\nclass ShowHelloWorld(TemplateView):\n    template_name = 'hello_world.html'\n\n    def get(self, *args, **kwargs):\n        show_hello_world.apply()\n        return super().get(*args, **kwargs)\n\n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        context['demo_content'] = DemoModel.objects.all()\n        return context\n"""
src/mydjango/__init__.py,0,b''
src/mydjango/celery.py,0,"b'from __future__ import absolute_import, unicode_literals\nimport os\nfrom celery import Celery\nimport logging\nlogger = logging.getLogger(""Celery"")\n\nos.environ.setdefault(\'DJANGO_SETTINGS_MODULE\', \'mydjango.settings\')\n\napp = Celery(\'mydjango\')\n\napp.config_from_object(\'django.conf:settings\', namespace=\'CELERY\')\n\napp.autodiscover_tasks()\n\n\n@app.task(bind=True)\ndef debug_task(self):\n    print(\'Request: {0!r}\'.format(self.request))\n\n'"
src/mydjango/settings.py,0,"b'""""""\nDjango settings for mydjango project.\n\nGenerated by \'django-admin startproject\' using Django 2.1.7.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/2.1/topics/settings/\n\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/2.1/ref/settings/\n""""""\n\nimport os\n\n# Build paths inside the project like this: os.path.join(BASE_DIR, ...)\nBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n\n\n# Quick-start development settings - unsuitable for production\n# See https://docs.djangoproject.com/en/2.1/howto/deployment/checklist/\n\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = \'s_-aro!sw@)bob$tojdq!s61$+3s22y=dbe!b5y3!p4ch&y3k#\'\n\n# SECURITY WARNING: don\'t run with debug turned on in production!\nDEBUG = True\n\nALLOWED_HOSTS = [\'web\']\n\n\n# Application definition\n\nINSTALLED_APPS = [\n    \'django.contrib.admin\',\n    \'django.contrib.auth\',\n    \'django.contrib.contenttypes\',\n    \'django.contrib.sessions\',\n    \'django.contrib.messages\',\n    \'django.contrib.staticfiles\',\n    \'myapp.apps.MyappConfig\',\n    \'celery\',\n]\n\nMIDDLEWARE = [\n    \'django.middleware.security.SecurityMiddleware\',\n    \'django.contrib.sessions.middleware.SessionMiddleware\',\n    \'django.middleware.common.CommonMiddleware\',\n    \'django.middleware.csrf.CsrfViewMiddleware\',\n    \'django.contrib.auth.middleware.AuthenticationMiddleware\',\n    \'django.contrib.messages.middleware.MessageMiddleware\',\n    \'django.middleware.clickjacking.XFrameOptionsMiddleware\',\n]\n\nROOT_URLCONF = \'mydjango.urls\'\n\nTEMPLATES = [\n    {\n        \'BACKEND\': \'django.template.backends.django.DjangoTemplates\',\n        \'DIRS\': [\'./templates\'],\n        \'APP_DIRS\': True,\n        \'OPTIONS\': {\n            \'context_processors\': [\n                \'django.template.context_processors.debug\',\n                \'django.template.context_processors.request\',\n                \'django.contrib.auth.context_processors.auth\',\n                \'django.contrib.messages.context_processors.messages\',\n            ],\n        },\n    },\n]\n\nWSGI_APPLICATION = \'mydjango.wsgi.application\'\n\n\n# Database\n# https://docs.djangoproject.com/en/2.1/ref/settings/#databases\n\nDATABASES = {\n    \'default\': {\n        \'ENGINE\': \'django.db.backends.postgresql_psycopg2\',\n        \'NAME\': os.environ.get(""DB_NAME""),\n        \'USER\': os.environ.get(""DB_USER""),\n        \'PASSWORD\': os.environ.get(""DB_PASSWORD""),\n        \'HOST\': os.environ.get(""DB_HOST""),\n        \'PORT\': os.environ.get(""DB_PORT""),\n    }\n}\n\n\n# Password validation\n# https://docs.djangoproject.com/en/2.1/ref/settings/#auth-password-validators\n\nAUTH_PASSWORD_VALIDATORS = [\n    {\n        \'NAME\': \'django.contrib.auth.password_validation.UserAttributeSimilarityValidator\',\n    },\n    {\n        \'NAME\': \'django.contrib.auth.password_validation.MinimumLengthValidator\',\n    },\n    {\n        \'NAME\': \'django.contrib.auth.password_validation.CommonPasswordValidator\',\n    },\n    {\n        \'NAME\': \'django.contrib.auth.password_validation.NumericPasswordValidator\',\n    },\n]\n\n\n# Internationalization\n# https://docs.djangoproject.com/en/2.1/topics/i18n/\n\nLANGUAGE_CODE = \'en-us\'\n\nTIME_ZONE = \'UTC\'\n\nUSE_I18N = True\n\nUSE_L10N = True\n\nUSE_TZ = True\n\n\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/2.1/howto/static-files/\n\nSTATIC_URL = \'/static/\'\nMEDIA_URL = \'/media/\'\n\nCELERY_BROKER_URL = \'redis://redis:6379/0\'\nCELERY_RESULT_BACKEND = \'redis://redis:6379/0\'\n\nSTATIC_ROOT = \'./static/\'\nMEDIA_ROOT = \'./media/\'\n\nLOGGING = {\n    \'version\': 1,\n    \'disable_existing_loggers\': False,\n    \'handlers\': {\n        \'console\': {\n            \'class\': \'logging.StreamHandler\',\n        },\n    },\n    \'loggers\': {\n        \'django\': {\n            \'handlers\': [\'console\'],\n            \'level\': os.getenv(\'DJANGO_LOG_LEVEL\', \'INFO\'),\n        },\n        \'celery\': {\n            \'handlers\': [\'console\'],\n            \'level\': os.getenv(\'DJANGO_LOG_LEVEL\', \'INFO\'),\n        },\n    },\n}\n\n# ---------------- Local Settings ---------------------------------------\n# Put your local settings in mydjango directory to override this settings\n# File name should be local_settings.py\ntry:\n    from .local_settings import *\nexcept ImportError:\n    print(\'No Local Settings Found\')\n\n# ---------------- End Local Settings ------------------------------------\n'"
src/mydjango/urls.py,0,"b'""""""mydjango URL Configuration\n\nThe `urlpatterns` list routes URLs to views. For more information please see:\n    https://docs.djangoproject.com/en/2.1/topics/http/urls/\nExamples:\nFunction views\n    1. Add an import:  from my_app import views\n    2. Add a URL to urlpatterns:  path(\'\', views.home, name=\'home\')\nClass-based views\n    1. Add an import:  from other_app.views import Home\n    2. Add a URL to urlpatterns:  path(\'\', Home.as_view(), name=\'home\')\nIncluding another URLconf\n    1. Import the include() function: from django.urls import include, path\n    2. Add a URL to urlpatterns:  path(\'blog/\', include(\'blog.urls\'))\n""""""\nfrom django.conf.urls import url\nfrom django.contrib import admin\nfrom django.conf.urls.static import static\nfrom django.conf import settings\n\nfrom myapp.views import ShowHelloWorld\n\n\nurlpatterns = [\n    url(r\'^admin/\', admin.site.urls),\n    url(r\'^$\', ShowHelloWorld.as_view())\n]\n# urlpatterns += static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)\n# urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n'"
src/mydjango/wsgi.py,0,"b'""""""\nWSGI config for mydjango project.\n\nIt exposes the WSGI callable as a module-level variable named ``application``.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/2.1/howto/deployment/wsgi/\n""""""\n\nimport os\n\nfrom django.core.wsgi import get_wsgi_application\n\nos.environ.setdefault(\'DJANGO_SETTINGS_MODULE\', \'mydjango.settings\')\n\napplication = get_wsgi_application()\n'"
src/myapp/migrations/0001_initial.py,0,"b""# Generated by Django 2.2.1 on 2019-10-23 12:34\n\nfrom django.db import migrations, models\n\n\nclass Migration(migrations.Migration):\n\n    initial = True\n\n    dependencies = [\n    ]\n\n    operations = [\n        migrations.CreateModel(\n            name='DemoModel',\n            fields=[\n                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),\n                ('title', models.CharField(max_length=255)),\n                ('body', models.TextField()),\n                ('image', models.ImageField(upload_to='demo_images')),\n            ],\n        ),\n    ]\n"""
src/myapp/migrations/__init__.py,0,b''
