file_path,api_count,code
FlashCard Python ML/ml_flashcard_script_basic.py,0,"b'#!/usr/bin/env python\n\nimport requests\nimport tweepy\nimport re\nimport os\n\n# create a file twitter_keys.py and add the tokens/keys below as variables\n# in the file\nfrom twitter_keys import consumer_key, consumer_secret\n\n# Create the OAuthHandler\nauth = tweepy.OAuthHandler(consumer_key=consumer_key, consumer_secret=consumer_secret)\n# Construct the API instance\napi = tweepy.API(auth)\n\nparams = {\n    \'q\': \'machinelearningflashcards.com-filter:retweets\',\n    \'from\': \'chrisalbon\',\n    \'since\': \'2017-04-01\',\n}\n\nml_flashcards_json = api.search(**params)\n\nmedia_urls = []\ntitles = []\nerror_counter = 0\ntotal_tweets = len(ml_flashcards_json)\nsuccessful_tweets = total_tweets - error_counter\n\nfor i in range(total_tweets):\n    txt = ml_flashcards_json[i]\n    json = txt._json\n    title = re.sub(""#\\S*"", """", str(json[\'text\']))  # removes hashtag\n    title = re.sub(""https\\S*"", """", title)  # removes url\n    title = str(title.strip())\n    try:  # KeyError is raised when there is no image within the tweet\n        media_url = json[\'entities\'][\'media\'][0][\'media_url\']\n        media_urls.append(media_url)\n        titles.append(title)\n    except KeyError:\n        error_counter += 1\n\nif error_counter == 0:\n    print(""{} tweets were processed successfully"".format(successful_tweets))\nelif error_counter == 1:\n    print(""{} tweets were processed successfully"".format(successful_tweets))\n    print(""{} tweet was not processed due to a KeyError"".format(error_counter))\nelse:\n    print(""{} tweets were processed successfully"".format(successful_tweets))\n    print(""{} tweets were not processed due to a KeyError"".format(error_counter))\n\n# change directory to flashcards folder\ncurrent_dirctory = os.getcwd()\nos.chdir(current_dirctory + ""/flashcards"")\n\n# write images to the flashcards directory\nfor i in zip(media_urls, titles):\n    img = requests.get(i[0])\n    f = open(str(i[1]) + "".jpg"", mode=\'wb\')\n    f.write(img.content)\n    f.close()\n'"
